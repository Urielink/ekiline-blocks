!function(){"use strict";function e(){return e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},e.apply(this,arguments)}var r=window.wp.element,t=window.wp.blocks,o=window.wp.blockEditor,n=window.wp.components,s=window.wp.i18n,i=window.wp.hooks,l=window.wp.compose;(0,t.registerBlockType)("ekiline-blocks/ekiline-progress",{apiVersion:2,title:(0,s.__)("Ekiline progress, full control","ekiline-progress"),icon:"menu-alt",description:(0,s.__)("Show a bootstrap progress bar for your data.","ekiline-progress"),category:"design",supports:{anchor:!0,color:{background:!0,gradients:!0,text:!1}},attributes:{progHeight:{type:"number",default:50}},edit:e=>{const{attributes:t,setAttributes:i}=e,l=(0,o.useBlockProps)({className:"group-progress",style:{height:t.progHeight+"px"}});return(0,r.createElement)("div",l,(0,r.createElement)(o.InspectorControls,null,(0,r.createElement)(n.PanelBody,{title:(0,s.__)("Progress bar Settings","ekiline-progress"),initialOpen:!0},(0,r.createElement)(n.TextControl,{label:(0,s.__)("Height bar (pixels)","ekiline-progress"),type:"number",value:t.progHeight,onChange:e=>i({progHeight:parseInt(e&&"0"!==e?e:1)}),min:"1"}))),(0,r.createElement)(o.InnerBlocks,{orientation:"horizontal",allowedBlocks:["ekiline-blocks/ekiline-progress-item"],template:[["ekiline-blocks/ekiline-progress-item"]]}))},save:e=>{let{attributes:t}=e;const n=o.useBlockProps.save({className:"progress",style:{height:t.progHeight+"px"}});return(0,r.createElement)("div",n,(0,r.createElement)(o.InnerBlocks.Content,null))}}),(0,t.registerBlockType)("ekiline-blocks/ekiline-progress-item",{title:(0,s.__)("Progress data bar","ekiline-progress"),parent:["ekiline-blocks/ekiline-progress"],icon:"menu-alt",description:(0,s.__)("Progress data, could be multiple bars between 1 to 100.","ekiline-progress"),category:"design",supports:{anchor:!1,color:{background:!0,gradients:!0,text:!0}},attributes:{progRange:{type:"number",default:10},progLabel:{type:"boolean",default:!1},progStripes:{type:"boolean",default:!1},progAnimation:{type:"boolean",default:!1}},edit:e=>{const{attributes:t,setAttributes:i}=e,l=(0,o.useBlockProps)({className:"item-progress progress-bar"+(t.progAnimation?" progress-bar-animated":"")+(t.progStripes?" progress-bar-striped":"")});return(0,r.createElement)("div",l,(0,r.createElement)(o.InspectorControls,null,(0,r.createElement)(n.PanelBody,{title:(0,s.__)("Progress bar Settings","ekiline-progress"),initialOpen:!0},(0,r.createElement)(n.TextControl,{label:(0,s.__)("Data range min 1% max 100%","ekiline-progress"),type:"number",value:t.progRange,onChange:e=>i({progRange:parseInt(e&&"0"!==e?e:1)}),min:"1",max:"100"}),(0,r.createElement)(n.ToggleControl,{label:(0,s.__)("Hide number in bar.","ekiline-progress"),checked:t.progLabel,onChange:e=>i({progLabel:e})}),(0,r.createElement)(n.ToggleControl,{label:(0,s.__)("Show stripes over background.","ekiline-progress"),checked:t.progStripes,onChange:e=>i({progStripes:e})}),(0,r.createElement)(n.ToggleControl,{label:(0,s.__)("Show animation.","ekiline-progress"),checked:t.progAnimation,onChange:e=>i({progAnimation:e})}))),(0,r.createElement)("p",null,t.progRange))},save:e=>{let{attributes:t}=e;const n=o.useBlockProps.save({className:"progress-bar"+(t.progAnimation?" progress-bar-animated":"")+(t.progStripes?" progress-bar-striped":""),style:{width:t.progRange+"%"}});return(0,r.createElement)("div",n,t.progLabel?null:t.progRange)}});const a=(0,l.createHigherOrderComponent)((t=>o=>{if("ekiline-blocks/ekiline-progress-item"===o.name){const n={...o.wrapperProps,style:{width:o.attributes.progRange+"%"}};return(0,r.createElement)(t,e({},o,{wrapperProps:n}))}return(0,r.createElement)(t,o)}),"newWrapperAtts");(0,i.addFilter)("editor.BlockListBlock","ekiline-blocks/ekiline-progress-item",a)}();