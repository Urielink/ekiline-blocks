!function(){"use strict";var e=window.wp.element,t=window.wp.blocks,o=window.wp.blockEditor,n=window.wp.components,i=window.wp.i18n;(0,t.registerBlockType)("ekiline-blocks/ekiline-accordion",{apiVersion:2,title:(0,i.__)("Ekiline Accordion, full control","ekiline-accordion"),icon:"menu-alt",description:(0,i.__)("Show your content as an accordion.","ekiline-accordion"),category:"design",supports:{anchor:!0},attributes:{noStyle:{type:"boolean",default:!1}},providesContext:{"ekiline-accordion/anchor":"anchor"},edit:t=>{const{attributes:c,setAttributes:l}=t,a=(0,o.useBlockProps)({className:"group-accordion"});return c.anchor||l({anchor:"accordion"+(10,150,Math.floor(140*Math.random()+10))}),(0,e.createElement)("div",a,(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,i.__)("Accordion Settings","ekiline-accordion"),initialOpen:!0},(0,e.createElement)(n.ToggleControl,{label:(0,i.__)("Clear style.","ekiline-accordion"),checked:c.noStyle,onChange:e=>l({noStyle:e})}))),(0,e.createElement)("div",{class:"espacio"},(0,e.createElement)(o.InnerBlocks,{allowedBlocks:["ekiline-blocks/ekiline-accordion-item"],template:[["ekiline-blocks/ekiline-accordion-item"],["ekiline-blocks/ekiline-accordion-item"],["ekiline-blocks/ekiline-accordion-item"]]})))},save:t=>{let{attributes:n}=t;const i=o.useBlockProps.save({className:n.noStyle?"accordion accordion-flush":"accordion"});return(0,e.createElement)("div",i,(0,e.createElement)(o.InnerBlocks.Content,null))}}),(0,t.registerBlockType)("ekiline-blocks/ekiline-accordion-item",{title:(0,i.__)("Accordion item","ekiline-accordion"),parent:["ekiline-blocks/ekiline-accordion"],icon:"menu-alt",description:(0,i.__)("Set tittle and content in your accordion container","ekiline-accordion"),category:"design",usesContext:["ekiline-accordion/anchor"],supports:{anchor:!0,html:!1,reusable:!1},attributes:{showDefault:{type:"boolean",default:!1},keepOpen:{type:"boolean",default:!0},parentId:{type:"string",default:""},content:{type:"string",source:"html",selector:"button",default:(0,i.__)("Item title.","ekiline-accordion")}},edit:t=>{const{attributes:c,setAttributes:l}=t,a=[["core/paragraph",{content:(0,i.__)("Item content.","ekiline-accordion")}]],r=(0,o.useBlockProps)({className:"child-item-accordion"});return c.anchor||l({anchor:"accordionChild"+(10,150,Math.floor(140*Math.random()+10))}),c.parentId&&c.parentId===t.context["ekiline-accordion/anchor"]||l({parentId:t.context["ekiline-accordion/anchor"]}),(0,e.createElement)("div",r,(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,i.__)("Accordion Item Params","ekiline-accordion"),initialOpen:!0},(0,e.createElement)(n.ToggleControl,{label:(0,i.__)("Show element by default.","ekiline-accordion"),checked:c.showDefault,onChange:e=>l({showDefault:e})}),(0,e.createElement)(n.ToggleControl,{label:(0,i.__)("Toggle.","ekiline-accordion"),checked:c.keepOpen,onChange:e=>l({keepOpen:e}),help:(0,i.__)("Close previously active accordion elements.","ekiline-accordion")}))),(0,e.createElement)(o.RichText,{withoutInteractiveFormatting:!0,allowedFormats:["core/bold","core/italic","core/image","core/align"],tagName:"p",className:"item-title",value:c.content,onChange:e=>l({content:e}),placeholder:(0,i.__)("Accordion Title","ekiline-accordion")}),(0,e.createElement)(o.InnerBlocks,{template:a}))},save:t=>{let{attributes:n}=t;const i=o.useBlockProps.save({className:"accordion-item"}),c=o.useBlockProps.save({headingId:i.id?"heading"+i.id:null,itemId:i.id?"item"+i.id:null,itemClassName:n.showDefault?"accordion-collapse collapse show":"accordion-collapse collapse"});return(0,e.createElement)("div",i,(0,e.createElement)("h2",{class:"accordion-header",id:c.headingId},(0,e.createElement)(o.RichText.Content,{tagName:"button",className:"accordion-button",type:"button",value:n.content,"data-bs-toggle":"collapse","data-bs-target":c.itemId?"#"+c.itemId:null})),(0,e.createElement)("div",{id:c.itemId,className:c.itemClassName,"data-bs-parent":n.keepOpen&&n.parentId?"#"+n.parentId:null},(0,e.createElement)(o.InnerBlocks.Content,null)))}}),(0,t.registerBlockCollection)("ekiline-blocks",{title:"Ekiline Blocks",icon:"layout"})}();