!function(){"use strict";var e=window.wp.element,t=window.wp.blocks,n=window.wp.blockEditor,l=window.wp.i18n,a=window.wp.compose,i=window.wp.richText,s=window.wp.data;(0,t.registerBlockType)("ekiline-blocks/ekiline-tabs",{apiVersion:2,title:(0,l.__)("Ekiline Tabs","ekiline-tabs"),icon:"table-row-after",description:(0,l.__)("Add a tabs for your posts, full control.","ekiline-tabs"),category:"design",supports:{inserter:!0,anchor:!0,align:["wide","full"],html:!1,color:{background:!0}},edit:()=>{const t=(0,n.useBlockProps)({className:"tabs-wrapper"});return(0,e.createElement)("div",t,(0,e.createElement)(n.InnerBlocks,{allowedBlocks:["ekiline-blocks/ekiline-tabs-navbar","ekiline-blocks/ekiline-tabs-container"],template:[["ekiline-blocks/ekiline-tabs-navbar",{className:"is-style-nav-tabs"}],["ekiline-blocks/ekiline-tabs-container"]]}))},save:()=>{const t=n.useBlockProps.save({className:"tabs-wrapper"});return(0,e.createElement)("div",t,(0,e.createElement)(n.InnerBlocks.Content,null))}}),(0,t.registerBlockType)("ekiline-blocks/ekiline-tabs-navbar",{title:(0,l.__)("Tabs Nav Bar","ekiline-tabs"),parent:["ekiline-blocks/ekiline-tabs"],icon:"editor-kitchensink",description:(0,l.__)("Tab navigation, add your links.","ekiline-tabs"),category:"design",supports:{html:!1,reusable:!1,multiple:!1,inserter:!1},styles:[{name:"nav-tabs",label:(0,l.__)("Tabs"),className:"nav-tabs",isDefault:!0},{name:"nav-pills",label:(0,l.__)("Pills"),className:"nav-pills"}],edit:t=>{const{attributes:a,setAttributes:i}=t,s=[["ekiline-blocks/ekiline-tab-link",{content:(0,l.__)("Tab link 1","ekiline-tabs"),className:"active"}],["ekiline-blocks/ekiline-tab-link",{content:(0,l.__)("Tab link 2","ekiline-tabs")}]],o=(0,n.useBlockProps)({className:"tabs-navbar"});var c;return a.className&&i({className:(c=a.className,c.includes("is-style-nav-tabs")&&(c.includes("nav-pills")&&(c=c.replaceAll("nav-pills","")),c=c.replace("is-style-nav-tabs","nav-tabs")),c.includes("is-style-nav-pills")&&(c.includes("nav-tabs")&&(c=c.replaceAll("nav-tabs","")),c=c.replace("is-style-nav-pills","nav-pills")),c)}),(0,e.createElement)("div",o,(0,e.createElement)(n.InnerBlocks,{orientation:"horizontal",allowedBlocks:["ekiline-blocks/ekiline-tab-link"],template:s}))},save:()=>{const t=n.useBlockProps.save({className:"nav"});return(0,e.createElement)("div",t,(0,e.createElement)(n.InnerBlocks.Content,null))}}),(0,t.registerBlockType)("ekiline-blocks/ekiline-tab-link",{title:(0,l.__)("Tab Link","ekiline-tabs"),parent:["ekiline-blocks/ekiline-tabs-navbar"],icon:"button",description:(0,l.__)("Tab button link. Copy Anchor text and paste on Tab Content Anchor field.","ekiline-tabs"),category:"design",supports:{html:!1,reusable:!1,color:{background:!0}},attributes:{content:{type:"string",source:"html",selector:"button",default:(0,l.__)("Tab link","ekiline-tabs")}},edit:t=>{let{attributes:l,setAttributes:a}=t;const i=(0,n.useBlockProps)({className:"tab-link"});return(0,e.createElement)(n.RichText,{withoutInteractiveFormatting:!0,allowedFormats:["core/bold","core/italic","core/image","core/align","ekiline-format/find-anchor"],tagName:"p",className:i.className,value:l.content,onChange:e=>a({content:e})})},save:t=>{let{attributes:l}=t;const a=n.useBlockProps.save({className:"tab-link nav-link"}),i="#"+l.content.normalize("NFD").replace(/(<([^>]+)>)/gi,"").replace(/[\u0300-\u036f]/g,"").replace(/([^\w]+|\s+)/g,"-").replace(/\-\-+/g,"-").replace(/(^-+|-+$)/,"").toLowerCase();return(0,e.createElement)(n.RichText.Content,{tagName:"button",className:a.className,value:l.content,"data-bs-toggle":"pill","data-bs-target":i,type:"button"})}});const o=(0,a.compose)((0,s.withSelect)((function(e){return{selectedBlock:e("core/block-editor").getSelectedBlock()}})),(0,a.ifCondition)((function(e){return e.selectedBlock&&"ekiline-blocks/ekiline-tab-link"===e.selectedBlock.name})))((t=>(0,e.createElement)(n.RichTextToolbarButton,{icon:"code-standards",title:"Find anchor",onClick:()=>{const e=t.value.text.normalize("NFD").replace(/(<([^>]+)>)/gi,"").replace(/[\u0300-\u036f]/g,"").replace(/([^\w]+|\s+)/g,"-").replace(/\-\-+/g,"-").replace(/(^-+|-+$)/,"").toLowerCase();alert((0,l.__)("Tab-Content Anchor: "+e,"ekiline-tabs"))}})));(0,i.registerFormatType)("ekiline-format/find-anchor",{title:"Find anchor",tagName:"findanchor",className:null,edit:o}),(0,t.registerBlockType)("ekiline-blocks/ekiline-tabs-container",{title:(0,l.__)("Tabs container","ekiline-tabs"),parent:["ekiline-blocks/ekiline-tabs"],icon:"editor-kitchensink",description:(0,l.__)("All tabs add here.","ekiline-tabs"),category:"design",supports:{html:!1,reusable:!1,multiple:!1,inserter:!1},edit:()=>{const t=(0,n.useBlockProps)({className:"tabs-container"});return(0,e.createElement)("div",t,(0,e.createElement)(n.InnerBlocks,{allowedBlocks:["ekiline-blocks/ekiline-tab-content"],template:[["ekiline-blocks/ekiline-tab-content",{className:"active show",anchor:"tab-link-1"}],["ekiline-blocks/ekiline-tab-content",{anchor:"tab-link-2"}]]}))},save:()=>{const t=n.useBlockProps.save({className:"tabs-container tab-content"});return(0,e.createElement)("div",t,(0,e.createElement)(n.InnerBlocks.Content,null))}}),(0,t.registerBlockType)("ekiline-blocks/ekiline-tab-content",{title:(0,l.__)("Tab Content","ekiline-tabs"),parent:["ekiline-blocks/ekiline-tabs-container"],icon:"feedback",description:(0,l.__)("Inner tab content. Find Tab Link anchor text, and paste on Anchor field.","ekiline-tabs"),category:"design",supports:{anchor:!0,html:!1,reusable:!1},edit:()=>{const t=[["core/paragraph",{content:(0,l.__)("Add your content and blocks","ekiline-tabs")}]],a=(0,n.useBlockProps)({className:"tab-content"});return(0,e.createElement)("div",a,(0,e.createElement)(n.InnerBlocks,{template:t}))},save:()=>{const t=n.useBlockProps.save({className:"tab-content tab-pane fade"});return(0,e.createElement)("div",t,(0,e.createElement)(n.InnerBlocks.Content,null))}}),(0,t.registerBlockCollection)("ekiline-blocks",{title:"Ekiline Blocks",icon:"layout"})}();