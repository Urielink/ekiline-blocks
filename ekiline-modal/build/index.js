!function(){"use strict";function e(){return e=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},e.apply(this,arguments)}var l=window.wp.element,o=window.wp.blocks,a=window.wp.blockEditor,t=window.wp.components,n=window.wp.i18n,i=window.wp.hooks,d=window.wp.compose;(0,o.registerBlockType)("ekiline-blocks/ekiline-modal",{apiVersion:2,title:(0,n.__)("Modal group, full control","ekiline-modal"),icon:"editor-kitchensink",description:(0,n.__)("Add your content here, then invoque with a link anchor #anchor.","ekiline-modal"),category:"design",supports:{anchor:!0},attributes:{modalShow:{type:"string",default:"default"},modalSize:{type:"string",default:"default"},modalAlign:{type:"boolean",default:!0},modalBackdrop:{type:"boolean",default:!0},modalKeyboard:{type:"boolean",default:!0},modalGrow:{type:"boolean",default:!1},modalTime:{type:"number",default:0}},edit:e=>{const{attributes:o,setAttributes:i}=e,d=(0,a.useBlockProps)({className:"group-modal"});return(0,l.createElement)("div",d,(0,l.createElement)(a.InspectorControls,null,(0,l.createElement)(t.PanelBody,{title:(0,n.__)("Modal Params","ekiline-modal"),initialOpen:!0},(0,l.createElement)(t.SelectControl,{label:(0,n.__)("Rise modal","ekiline-modal"),value:o.modalShow,options:[{label:(0,n.__)("Default","ekiline-modal"),value:""},{label:(0,n.__)("Right","ekiline-modal"),value:" right-aside"},{label:(0,n.__)("Bottom","ekiline-modal"),value:" move-from-bottom"},{label:(0,n.__)("Left","ekiline-modal"),value:" left-aside"}],onChange:e=>i({modalShow:e})}),(0,l.createElement)(t.SelectControl,{label:(0,n.__)("Size modal","ekiline-modal"),value:o.modalSize,options:[{label:(0,n.__)("Default","ekiline-modal"),value:""},{label:(0,n.__)("Small","ekiline-modal"),value:" modal-sm"},{label:(0,n.__)("Large","ekiline-modal"),value:" modal-lg"},{label:(0,n.__)("Extra Large","ekiline-modal"),value:" modal-xl"},{label:(0,n.__)("Full window","ekiline-modal"),value:" modal-fullscreen"}],onChange:e=>i({modalSize:e})}),(0,l.createElement)(t.ToggleControl,{label:(0,n.__)("Center in window","ekiline-modal"),checked:o.modalAlign,onChange:e=>i({modalAlign:e})}),(0,l.createElement)(t.ToggleControl,{label:(0,n.__)("Enable background click to close","ekiline-modal"),checked:o.modalBackdrop,onChange:e=>i({modalBackdrop:e})}),(0,l.createElement)(t.ToggleControl,{label:(0,n.__)("Enable ESC key to close","ekiline-modal"),checked:o.modalKeyboard,onChange:e=>i({modalKeyboard:e})}),(0,l.createElement)(t.ToggleControl,{label:(0,n.__)("Show resize modal button","ekiline-modal"),checked:o.modalGrow,onChange:e=>i({modalGrow:e})}),(0,l.createElement)(t.TextControl,{label:(0,n.__)("Show with timer","ekiline-modal"),type:"number",value:o.modalTime,onChange:e=>i({modalTime:parseInt(e)}),help:o.modalTime>0?(0,n.__)('Run after page load "'+o.modalTime+'" milliseconds.',"ekiline-modal"):(0,n.__)('"'+o.modalTime+'" do nothing.',"ekiline-modal")}))),(0,l.createElement)(a.InnerBlocks,{allowedBlocks:["ekiline-blocks/ekiline-modal-header","ekiline-blocks/ekiline-modal-body","ekiline-blocks/ekiline-modal-footer"],template:[["ekiline-blocks/ekiline-modal-header",{lock:{remove:!1,move:!0}}],["ekiline-blocks/ekiline-modal-body",{lock:{remove:!1,move:!0}}],["ekiline-blocks/ekiline-modal-footer",{lock:{remove:!1,move:!0}}]]}),(0,l.createElement)((function(){return o.anchor?(0,l.createElement)("div",{class:"editor-modal-route has-anchor"},(0,l.createElement)("pre",null,"#"+o.anchor,(0,l.createElement)("br",null),(0,n.__)("Add this #anchor to a button and its advanced options.","ekiline-modal"))):(0,l.createElement)("div",{class:"editor-modal-route"},(0,n.__)("Do not forget to add an anchor. ","ekiline-modal"))}),null))},save:o=>{let{attributes:t}=o;const i=a.useBlockProps.save({className:"group-modal modal fade"+("default"!=t.modalShow?t.modalShow:""),"data-bs-backdrop":t.modalBackdrop,"data-bs-keyboard":t.modalKeyboard,"data-ek-time":t.modalTime||null}),d=a.useBlockProps.save({className:"modal-dialog"+(t.modalAlign?" modal-dialog-centered":"")+("default"!=t.modalSize?t.modalSize:"")});return(0,l.createElement)("div",e({},i,{tabindex:"-1",role:"dialog","aria-labelledby":i.id+"Label","aria-hidden":"true"}),(0,l.createElement)("div",{class:d.className},(0,l.createElement)("div",{class:"modal-content"},(0,l.createElement)((function(){if(t.modalGrow)return(0,l.createElement)("button",{type:"button",class:"modal-resize btn btn-sm btn-outline-secondary","aria-label":(0,n.__)("play btn","ekiline-modal")},(0,l.createElement)("span",{class:"dashicons dashicons-editor-expand"}))}),null),(0,l.createElement)(a.InnerBlocks.Content,null))))}}),(0,o.registerBlockType)("ekiline-blocks/ekiline-modal-header",{title:(0,n.__)("Modal header","ekiline-modal"),parent:["ekiline-blocks/ekiline-modal"],icon:"feedback",description:(0,n.__)("Modal header content. ","ekiline-modal"),category:"design",supports:{html:!1,reusable:!1,multiple:!1,inserter:!0},edit:()=>{const e=[["core/heading",{content:(0,n.__)("Add modal title","ekiline-modal"),level:4}]],o=(0,a.useBlockProps)({className:"editor-modal-header"});return(0,l.createElement)("div",o,(0,l.createElement)(a.InnerBlocks,{allowedBlocks:["core/heading","core/paragraph"],template:e}))},save:()=>{const e=a.useBlockProps.save({className:"modal-header"});return(0,l.createElement)("div",e,(0,l.createElement)(a.InnerBlocks.Content,null),(0,l.createElement)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"}))}}),(0,o.registerBlockType)("ekiline-blocks/ekiline-modal-body",{title:(0,n.__)("Modal body content","ekiline-modal"),parent:["ekiline-blocks/ekiline-modal"],icon:"feedback",description:(0,n.__)("Modal body content. ","ekiline-modal"),category:"design",supports:{html:!1,reusable:!1,multiple:!1,inserter:!0},edit:()=>{const e=[["core/paragraph",{content:(0,n.__)("Add modal content blocks","ekiline-modal")}]],o=(0,a.useBlockProps)({className:"editor-modal-body"});return(0,l.createElement)("div",o,(0,l.createElement)(a.InnerBlocks,{template:e}))},save:()=>{const e=a.useBlockProps.save({className:"modal-body"});return(0,l.createElement)("div",e,(0,l.createElement)(a.InnerBlocks.Content,null))}}),(0,o.registerBlockType)("ekiline-blocks/ekiline-modal-footer",{title:(0,n.__)("Modal footer","ekiline-modal"),parent:["ekiline-blocks/ekiline-modal"],icon:"feedback",description:(0,n.__)("Inner footer content. ","ekiline-modal"),category:"design",supports:{html:!1,reusable:!1,multiple:!1,inserter:!0},edit:()=>{const e=[["core/paragraph",{content:(0,n.__)("Add modal footer text","ekiline-modal")}]],o=(0,a.useBlockProps)({className:"editor-modal-footer"});return(0,l.createElement)("div",o,(0,l.createElement)(a.InnerBlocks,{allowedBlocks:["core/paragraph","core/buttons","core/button"],template:e}))},save:()=>{const e=a.useBlockProps.save({className:"modal-footer"});return(0,l.createElement)("div",e,(0,l.createElement)(a.InnerBlocks.Content,null))}}),(0,o.registerBlockCollection)("ekiline-blocks",{title:"Ekiline Blocks",icon:"layout"});const r=["core/button","core/buttons"],c=(0,d.createHigherOrderComponent)((e=>o=>{const{attributes:i,setAttributes:d}=o,{closeModal:c}=i;return r.includes(o.name)?(0,l.createElement)(l.Fragment,null,(0,l.createElement)(e,o),o.attributes.url&&(0,l.createElement)(a.InspectorAdvancedControls,null,(0,l.createElement)(t.TextControl,{label:(0,n.__)("Modal anchor for execute it.","ekiline-modal"),value:o.attributes.addDataBtn,onChange:e=>o.setAttributes({addDataBtn:e})}),(0,l.createElement)(t.ToggleControl,{label:(0,n.__)("Close modal button.","ekiline-modal"),checked:!c,onChange:()=>d({closeModal:!c}),help:c?(0,n.__)("No.","ekiline-modal"):(0,n.__)("Yes.","ekiline-modal")}))):(0,l.createElement)(e,o)}),"withAdvancedControlsBtn");(0,i.addFilter)("blocks.registerBlockType","ekilineModalBtnData/dataAttribute",(function(e){return r.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{addDataBtn:{type:"string",default:""},closeModal:{type:"boolean",default:!0}})),e})),(0,i.addFilter)("editor.BlockEdit","ekilineModalBtnData/dataInput",c),(0,i.addFilter)("blocks.getSaveElement","ekilineModalBtnData/dataModified",(function(e,l,o){const{closeModal:a}=o;if(r.includes(l.name)){if(o.addDataBtn&&o.url&&a)return wp.element.cloneElement(e,{},wp.element.cloneElement(e.props.children,{"data-bs-target":o.addDataBtn,"data-bs-toggle":"modal",type:"button"}));if(!a&&o.addDataBtn&&o.url)return wp.element.cloneElement(e,{},wp.element.cloneElement(e.props.children,{"data-bs-dismiss":"modal"}))}return e}))}();